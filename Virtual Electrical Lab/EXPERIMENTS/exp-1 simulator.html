
<html>
<head>
<script>
var canvas,
    context,
    dragging = false,
    dragStartLocation,
    snapshot,
	wireStart,
	wireEnd,
	R1 = 10,R2 = 20,R3 = 30,V =60,V1=10,V2=20,V3=30,RS=10,
	W1 = false,
	W2 = false,
	W3 = false,
	W4 = false,
	W5 = false,
	W5 = false,
	W6 = false,
	W7 = false,
	W8 = false,
	W9 = false,
	W10 = false,
	W11 = false,
	keyon = false;
function getCanvasCoordinates(event) {
    var x = event.clientX - canvas.getBoundingClientRect().left,
        y = event.clientY - canvas.getBoundingClientRect().top;

    return {x: x, y: y};
}
function restoreSnapshot() {
    context.putImageData(snapshot, 0, 0);
}
function drawLine(position) {
    context.beginPath();
    context.moveTo(dragStartLocation.x, dragStartLocation.y);
    context.lineTo(position.x, position.y);
    context.stroke();
}
function dragStart(event) {
    dragging = true;
    dragStartLocation = getCanvasCoordinates(event);
	wireStart = this.id;
	
}
function drag(event) {
    var position;
    if (dragging === true) {
        restoreSnapshot();
        position = getCanvasCoordinates(event);
        drawLine(position);
    }
}
function validateWire(){

	if(wireStart == "area9" && wireEnd=="area11"){
		document.getElementById("BR1").style.display='block';
		W1 = true;
	} 
	else if(wireStart == "area12" && wireEnd=="area13"){
		document.getElementById("R1R2").style.display='block';
		W2 = true;
	}
	else if(wireStart == "area14" && wireEnd=="area15"){
		document.getElementById("R2R3").style.display='block';
		W3 = true;
	}
	else if(wireStart == "area16" && wireEnd=="area8"){
		document.getElementById("R3K").style.display='block';
		W4 = true;
	}
	else if(wireStart == "area7" && wireEnd=="area10"){
		document.getElementById("B2K").style.display='block';
		W5 = true;
	}
	else if(wireStart == "area1" && wireEnd=="area11"){
		document.getElementById("V1R1").style.display='block';
		W6 = true;
	}
	else if(wireStart == "area2" && wireEnd=="area12"){
		document.getElementById("V1R2").style.display='block';
		W7 = true;
	}
	else if(wireStart == "area3" && wireEnd=="area13"){
		document.getElementById("V2R1").style.display='block';
		W8 = true;
	}
	else if(wireStart == "area4" && wireEnd=="area14"){
		document.getElementById("V2R2").style.display='block';
		W9 = true;
	}
	else if(wireStart == "area5" && wireEnd=="area15"){
		document.getElementById("V3R1").style.display='block';
		W10 = true;
	}
	else if(wireStart == "area6" && wireEnd=="area16"){
		document.getElementById("V3R2").style.display='block';
		W11 = true;
	}
		
	var x = wireStart;
	wireStart = wireEnd;
	wireEnd = x; 

	if(wireStart == "area9" && wireEnd=="area11"){
		document.getElementById("BR1").style.display='block';
		W1 = true;
	} 
	else if(wireStart == "area12" && wireEnd=="area13"){
		document.getElementById("R1R2").style.display='block';
		W2 = true;
	}
	else if(wireStart == "area14" && wireEnd=="area15"){
		document.getElementById("R2R3").style.display='block';
		W3 = true;
	}
	else if(wireStart == "area16" && wireEnd=="area8"){
		document.getElementById("R3K").style.display='block';
		W4 = true;
	}
	else if(wireStart == "area7" && wireEnd=="area10"){
		document.getElementById("B2K").style.display='block';
		W5 = true;
	}
	else if(wireStart == "area1" && wireEnd=="area11"){
		document.getElementById("V1R1").style.display='block';
		W6 = true;
	}
	else if(wireStart == "area2" && wireEnd=="area12"){
		document.getElementById("V1R2").style.display='block';
		W7 = true;
	}
	else if(wireStart == "area3" && wireEnd=="area13"){
		document.getElementById("V2R1").style.display='block';
		W8 = true;
	}
	else if(wireStart == "area4" && wireEnd=="area14"){
		document.getElementById("V2R2").style.display='block';
		W9 = true;
	}
	else if(wireStart == "area5" && wireEnd=="area15"){
		document.getElementById("V3R1").style.display='block';
		W10 = true;
	}
	else if(wireStart == "area6" && wireEnd=="area16"){
		document.getElementById("V3R2").style.display='block';
		W11 = true;
	}
}
function dragStop(event) {
    dragging = false;
    restoreSnapshot();
    var position = getCanvasCoordinates(event);
    drawLine(position);
	restoreSnapshot();
	wireEnd = this.id;
	validateWire(); 
}
function init() {
    canvas = document.getElementById("canvas");
    context = canvas.getContext('2d');
    context.strokeStyle = 'black';
    context.lineWidth = 3;
    context.lineCap = 'round';
	snapshot = context.getImageData(0, 0, canvas.width, canvas.height);
    document.getElementById("area1").addEventListener('mousedown', dragStart, false);
	document.getElementById("area2").addEventListener('mousedown', dragStart, false);
	document.getElementById("area3").addEventListener('mousedown', dragStart, false);
	document.getElementById("area4").addEventListener('mousedown', dragStart, false);
	
	document.getElementById("area5").addEventListener('mousedown', dragStart, false);
	document.getElementById("area6").addEventListener('mousedown', dragStart, false);
	document.getElementById("area7").addEventListener('mousedown', dragStart, false);
	document.getElementById("area8").addEventListener('mousedown', dragStart, false);
	
	document.getElementById("area9").addEventListener('mousedown', dragStart, false);
	document.getElementById("area10").addEventListener('mousedown', dragStart, false);
	document.getElementById("area11").addEventListener('mousedown', dragStart, false);
	document.getElementById("area12").addEventListener('mousedown', dragStart, false);
	
	document.getElementById("area13").addEventListener('mousedown', dragStart, false);
	document.getElementById("area14").addEventListener('mousedown', dragStart, false);
	document.getElementById("area15").addEventListener('mousedown', dragStart, false);
	document.getElementById("area16").addEventListener('mousedown', dragStart, false);
	
    canvas.addEventListener('mousemove', drag, false);
	canvas.addEventListener("mouseup",dragStop,false);
    document.getElementById("area1").addEventListener('mouseup', dragStop, false);
	document.getElementById("area2").addEventListener('mouseup', dragStop, false);
	document.getElementById("area3").addEventListener('mouseup', dragStop, false);
	document.getElementById("area4").addEventListener('mouseup', dragStop, false);
	
    document.getElementById("area5").addEventListener('mouseup', dragStop, false);
	document.getElementById("area6").addEventListener('mouseup', dragStop, false);
	document.getElementById("area7").addEventListener('mouseup', dragStop, false);
	document.getElementById("area8").addEventListener('mouseup', dragStop, false);
	
    document.getElementById("area9").addEventListener('mouseup', dragStop, false);
	document.getElementById("area10").addEventListener('mouseup', dragStop, false);
	document.getElementById("area11").addEventListener('mouseup', dragStop, false);
	document.getElementById("area12").addEventListener('mouseup', dragStop, false);
	
    document.getElementById("area13").addEventListener('mouseup', dragStop, false);
	document.getElementById("area14").addEventListener('mouseup', dragStop, false);
	document.getElementById("area15").addEventListener('mouseup', dragStop, false);
	document.getElementById("area16").addEventListener('mouseup', dragStop, false);
	calVolt();
	
}
function keyOn(){
	if(W1 && W2 && W3 && W4 && W5 && W5 && W6 && W7 && W8 && W9 && W10 && W11){
		document.getElementById('key').style.top='102px';
		keyon = true;
		calVolt();
	}
}
function printValue(){
		if(!keyon){
			V1=0;
			V2=0;
			V3=0;
		}
		document.getElementById("VO1").innerHTML = V1.toPrecision(3) ;
		document.getElementById("VO2").innerHTML = V2.toPrecision(3) ;
		document.getElementById("VO3").innerHTML = V3.toPrecision(3);
		document.getElementById("B").innerHTML = V;
}
function calVolt(){
	R1 = document.getElementById("RI1").value;
	R2 = document.getElementById("RI2").value;
	R3 = document.getElementById("RI3").value;
	V = document.getElementById("VO").value;
	if(R1<0){
		window.alert("Please Enter a Valid Value");
		document.getElementById("RI1").focus();
	}
	if(R2<0){
		window.alert("Please Enter a Valid Value");
		document.getElementById("RI2").focus();
	}
	if(R3<0){
		window.alert("Please Enter a Valid Value");
		document.getElementById("RI3").focus();
	}
	RS = Number(R1) + Number(R2) + Number(R3);
	V1 = V * R1/RS;
	V2 = V * R2/RS;
	V3 = V * R3/RS;
	printValue();
}
window.addEventListener('load', init, false);
window.onload = function() {
    document.body.onselectstart = function() {
        return false;
    }
}

</script>
<title>Virtual Lab - KVL</title>
<style type="text/css">

<!--
body {
	font: 100%/1.4 Verdana, Arial, Helvetica, sans-serif;
	background-color: #42413C;
	margin: 0;
	padding: 0;
	color: #000;
}

ul, ol, dl { 
	padding: 0;
	margin: 0;
}
h1, h2, h3, h4, h5, h6, p {
	margin-top: 0;	 
	padding-right: 15px;
	padding-left: 15px; 
}

a:link {
	color: #42413C;
	text-decoration: underline; 
}
.container {
	width: 960px;
	background-color: #ffffff;
	margin: 0 auto;
	height: auto;
}

.header {
	background-color: #4CAF50;
	font-size: 350%;
	font-family: monospace, Candara, "Adobe Caslon Pro";
	color: #FFF;
}

.sidebar1 {
	float: left;
	width: 180px;
	background-color: #FFFFFF;
	padding-bottom: 10px;
}
.content {
	width: 780px;
	float: right;
	position:relative;
}

.content ul, .content ol { 
	padding: 0 15px 15px 40px;
}

ul.nav {
	list-style: none; 
	border-top: 1px solid #666; 
	margin-bottom: 15px; 
}
ul.nav li {
	border-bottom: 1px solid #666; 
}
ul.nav a, ul.nav a:visited { 
	padding: 5px 5px 5px 15px;
	display: block;
	width: 160px;  
	text-decoration: none;
	background-color: #C6D580;
}
ul.nav a:hover, ul.nav a:active, ul.nav a:focus { 
	background-color: #ADB96E;
	color: #FFF;
}

.footer {
	padding: 10px 0;
	background-color: #555555;
	position: relative;
	clear: both; 
	color: #4CAF50;
}


.fltrt {  
	float: right;
	margin-left: 8px;
}
.fltlft { 
	float: left;
	margin-right: 8px;
}
.clearfloat { 
	clear:both;
	height:0;
	font-size: 1px;
	line-height: 0px;
}
.dropbtn {
	background-color: #4CAF50;
	color: white;
	padding: 16px;
	font-size: 16px;
	border: none;
	width: 170px;
}

.dropdown {
    position: relative;
    display: inline-block;
}

.dropdown-content {
    display: none;
    position: absolute;
    background-color: #f1f1f1;
    min-width: 160px;
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    z-index: 1;
}

.dropdown-content a {
    color: black;
    padding: 12px 16px;
    text-decoration: none;
    display: block;
}
.elements{
	position: absolute;
	z-index: 3;
}

.dropdown-content a:hover {background-color: #ddd;}

.dropdown:hover .dropdown-content {display: block;}

.dropdown:hover .dropbtn {background-color: #3e8e41;}
-->
</style>
<link rel="shortcut icon" type="image/x-icon" href="Resources/logo.ico" />
</head>

<body>

<div class="container">
  <div class="header"> <div style="margin-left: 30px;">VEL<span style="font-size:25px">
  <a href="https://www.charusat.ac.in"><img src="Resources/charusat logo.png" width="200" height="38" alt="charsuat logo" style="float:right; margin-top:15px;"/></a>(Virtual Electrical lab)</span></div>
  </div>
  <div class="sidebar1">
    <p><a href="../Virtual%20Lab.html"><img src="Resources/logo.gif" width="170" height="180" alt="logo" style="float:left" /></a></p>
    <p>&nbsp;</p>
    <p style="font-size:24px">Experiments</p>
    <div class="dropdown">
  <button class="dropbtn">Experiment 1</button>

  <div class="dropdown-content">
    <a href="exp-1 theory.html">Theory</a>
    <a href="exp-1 procedure.html">Procedure</a>
    <a href="exp-1 simulator.html">Simulator</a>
  </div>
    </div><div>&nbsp;</div>
    <div class="dropdown">
      <button class="dropbtn">Experiment 2</button>
      <div class="dropdown-content">
        <a href="#">Theory</a>
        <a href="#">Procedure</a>
        <a href="#">Simulator</a>
      </div>
    </div><div>&nbsp;</div>
    <div class="dropdown">
      <button class="dropbtn">Experiment 3</button>
      <div class="dropdown-content">
        <a href="#">Theory</a>
        <a href="#">Procedure</a>
        <a href="#">Simulator</a>
      </div>
    </div><div>&nbsp;</div>
    <div class="dropdown">
      <button class="dropbtn">Experiment 4</button>
      <div class="dropdown-content">
        <a href="#">Theory</a>
        <a href="#">Procedure</a>
        <a href="#">Simulator</a>
      </div>
    </div><div>&nbsp;</div>
    <div class="dropdown">
      <button class="dropbtn">Experiment 5</button>
      <div class="dropdown-content">
        <a href="#">Theory</a>
        <a href="#">Procedure</a>
        <a href="#">Simulator</a>
      </div>
    </div><div>&nbsp;</div>
    <div class="dropdown">
      <button class="dropbtn">Experiment 6</button>
      <div class="dropdown-content">
        <a href="#">Theory</a>
        <a href="#">Procedure</a>
        <a href="#">Simulator</a>
      </div>
    </div><div>&nbsp;</div>
    <div class="dropdown">
      <button class="dropbtn">Experiment 7</button>
      <div class="dropdown-content">
        <a href="#">Theory</a>
        <a href="#">Procedure</a>
        <a href="#">Simulator</a>
      </div>
    </div><div>&nbsp;</div>
    <div class="dropdown">
      <button class="dropbtn">Experiment 8</button>
      <div class="dropdown-content">
        <a href="#">Theory</a>
        <a href="#">Procedure</a>
        <a href="#">Simulator</a>
      </div>
    </div><div>&nbsp;</div>
    <div class="dropdown">
      <button class="dropbtn">Experiment 9</button>
      <div class="dropdown-content">
        <a href="#">Theory</a>
        <a href="#">Procedure</a>
        <a href="#">Simulator</a>
      </div>
    </div><div>&nbsp;</div>
    <div class="dropdown">
      <button class="dropbtn">Experiment 10</button>
      <div class="dropdown-content">
        <a href="#">Theory</a>
        <a href="#">Procedure</a>
        <a href="#">Simulator</a>
      </div>
    </div>
	</div>
    <div class="content" >
	<H1>Kirchoff Voltage Law:</H1>
    <div style="background:url(BG1.png) no-repeat;margin-left:70px;margin-top:26px">
       <canvas id="canvas" width="597" height="397" style="border:3px solid #000;"> </canvas></div>
       	<div id = "key" class = "elements" style="left:472px; top:90px;" >
       	<img src=" key.png" 
        onClick = "keyOn()" >
		</div>
        <img id = "BR1" src=" BR1.png" 
        style="display:none;left:110px; top:170px;position:absolute;">
        <img id = "V1R1" src=" V1R1.png" 
        style="display:none;left:132px; top:275px;position:absolute;">
        <img id = "V1R2" src=" V1R2.png" 
        style="display:none;left:205px; top:272px;position:absolute;">
        <img id = "V2R1" src=" V2R1.png" 
        style="display:none;left:305px; top:282px;position:absolute;">
        <img id = "V2R2" src=" V2R2.png" 
        style="display:none;left:377px; top:277px;position:absolute;">
        <img id = "V3R1" src=" V3R1.png" 
        style="display:none;left:475px; top:275px;position:absolute;">
        <img id = "V3R2" src=" V3R2.png" 
        style="display:none;left:562px; top:282px;position:absolute;">
        <img id = "R1R2" src=" R1R2.png" 
        style="display:none;left:248px; top:360px;position:absolute;">
        <img id = "R2R3" src=" R2R3.png" 
        style="display:none;left:420px; top:360px;position:absolute;">
        <img id = "R3K" src=" R3K.png" 
        style="display:none;left:496px; top:108px;position:absolute;">
        <img id = "B2K" src=" B2k.png" 
        style="display:none;left:190px; top:105px;position:absolute;">
		
		<div id = "VO1" class="elements" style="left:165px; top:253px;">000</div>
		<div id = "VO2" class="elements" style="left:345px; top:253px;">000</div>
		<div id = "VO3" class="elements" style="left:523px; top:253px;">000</div>
		<div id = "B" class="elements" style="left:217px; top:135px;">000</div>
        
       <div class="elements" style="left:165px; top:285px;">
       <img src=" blank.png" height="10" width="10" style="opacity: 0;" usemap="#demo1">
		</div>
        <div class="elements" style="left:205px; top:285px;">
       <img src=" blank.png" height="10" width="10" style="opacity: 0;" usemap="#demo2">
		</div>
        <div class="elements" style="left:345px; top:285px;">
       <img src=" blank.png" height="10" width="10" style="opacity: 0;" usemap="#demo3">
		</div>
        <div class="elements" style="left:385px; top:285px;">
       <img src=" blank.png" height="10" width="10" style="opacity: 0;" usemap="#demo4">
		</div>
        <div class="elements" style="left:520px; top:285px;">
       <img src=" blank.png" height="10" width="10" style="opacity: 0;" usemap="#demo5">
		</div>
        <div class="elements" style="left:560px; top:285px;">
       <img src=" blank.png" height="10" width="10" style="opacity: 0;" usemap="#demo6">
		</div>
        <div class="elements" style="left:450px; top:115px;">
       <img src=" blank.png" height="10" width="10" style="opacity: 0;" usemap="#demo7">
		</div>
        <div class="elements" style="left:490px; top:115px;">
       <img src=" blank.png" height="10" width="10" style="opacity: 0;" usemap="#demo8">
		</div>
        <div class="elements" style="left:180px; top:170px;">
       <img src=" blank.png" height="10" width="10" style="opacity: 0;" usemap="#demo9">
		</div>
        <div class="elements" style="left:190px; top:170px;">
       <img src=" blank.png" height="10" width="10" style="opacity: 0;" usemap="#demo10">
		</div>
        <div class="elements" style="left:130px; top:360px;">
       <img src=" blank.png" height="10" width="10" style="opacity: 0;" usemap="#demo11">
		</div>
        <div class="elements" style="left:250px; top:360px;">
       <img src=" blank.png" height="10" width="10" style="opacity: 0;" usemap="#demo12">
		</div>
        <div class="elements" style="left:300px; top:360px;">
       <img src=" blank.png" height="10" width="10" style="opacity: 0;" usemap="#demo13">
		</div>
        <div class="elements" style="left:420px; top:360px;">
       <img src=" blank.png" height="10" width="10" style="opacity: 0;" usemap="#demo14">
		</div>
        <div class="elements" style="left:470px; top:360px;">
       <img src=" blank.png" height="10" width="10" style="opacity: 0;" usemap="#demo15">
		</div>
        <div class="elements" style="left:590px; top:360px;">
       <img src=" blank.png" height="10" width="10" style="opacity: 0;" usemap="#demo16">
		</div>
        <map name="demo1">
         <area id="area1" shape="rect" coords="0,0,10,10">
        </map>
        <map name="demo2">
         <area id="area2" shape="rect" coords="0,0,10,10">
        </map>
        <map name="demo3">
         <area id="area3" shape="rect" coords="0,0,10,10">
        </map>
        <map name="demo4">
         <area id="area4" shape="rect" coords="0,0,10,10">
        </map>
        <map name="demo5">
         <area id="area5" shape="rect" coords="0,0,10,10">
        </map>
        <map name="demo6">
         <area id="area6" shape="rect" coords="0,0,10,10">
        </map>
        <map name="demo7">
         <area id="area7" shape="rect" coords="0,0,10,10">
        </map>
        <map name="demo8">
         <area id="area8" shape="rect" coords="0,0,10,10">
        </map>
        <map name="demo9">
         <area id="area9" shape="rect" coords="0,0,10,10">
        </map>
        <map name="demo10">
         <area id="area10" shape="rect" coords="0,0,10,10">
        </map>
        <map name="demo11">
         <area id="area11" shape="rect" coords="0,0,10,10">
        </map>
        <map name="demo12">
         <area id="area12" shape="rect" coords="0,0,10,10">
        </map>
        <map name="demo13">
         <area id="area13" shape="rect" coords="0,0,10,10">
        </map>
        <map name="demo14">
         <area id="area14" shape="rect" coords="0,0,10,10">
        </map>
        <map name="demo15">
         <area id="area15" shape="rect" coords="0,0,10,10">
        </map>
        <map name="demo16">
         <area id="area16" shape="rect" coords="0,0,10,10">
        </map>
        
        <div style="border-style:solid;left:140px; margin-top:50px;position:absolute;background-color:gray;width:500px;height:100px;">
		<form style = "margin-left:75px;margin-top:10px;font-size:20px;">
  			R1: <input id = "RI1" type="number" min="1" value="10" onChange="calVolt()" style="width:50px;"> 
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  			R2: <input id = "RI2" type="number" min="1" value="20" onChange="calVolt()" style="width:50px;">
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            R3: <input id = "RI3" type="number" min="1" value="30" onChange="calVolt()" style="width:50px;">
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><br>
            V: <input id = "VO" type="range" min="1" max="100" value="60" onChange="calVolt()" style="align:center;width:200px;"><br>            
		</form>
		<h4 style = "text-align:center;">Circuit Diagram</h4>
        </div>
		<br><br>
		<img src = "Circuit Diagram1.jpg" style="margin-top:150px;margin-left:80px;">
		
  <!-- end .content --></div>
    
  <div class="footer" style="text-align:center;">
    <p>Developed by Palak Amin,Stavan Adhyaru &amp; Pranav bhuchhada.</p>
    <p>Charotar University Of Science And Technolgy.</p>
  <!-- end .footer --></div>
  <!-- end .container --></div>
</body>
</html>
